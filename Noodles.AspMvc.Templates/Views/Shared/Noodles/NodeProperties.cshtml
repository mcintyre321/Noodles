@using Noodles
@using System.Linq
@using Noodles.Helpers
@using Noodles.AspMvc.Helpers
@using Noodles.AspMvc.UiAttributes
@using Noodles.Models
@model IGrouping<string, Noodles.Models.NodeProperty>
           
@if (string.IsNullOrWhiteSpace(Model.Key))
{
    if (Model.Any())
    {
        var formInfo = new FormInfo((IInvokeable) Model.First().Parent, Model.Cast<IInvokeableParameter>());
        @Html.Partial("Noodles/NodeMethod", formInfo)
    }
}
else
{
    @Html.Partial("Noodles/NodeProperties-" + Model.Key, Model)
}
