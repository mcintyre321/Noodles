(function(){var h,w,b,k,d,c,o,l,g,a,nt,i,tt,it,rt,ut,ft,v,et,ot,st,u,ht,ct,lt,t,at,vt,yt,pt,s,wt,bt,kt,y,f,dt,p,gt,ni,ti,r,e,n,ii,ri={}.hasOwnProperty,ui=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};o=10,i=null,s=null,u=null,t={},a=null,p=((ii=document.cookie.match(/request_method=(\w+)/))!=null?ii[1].toUpperCase():void 0)||"",n=null,ft=function(t){var i;return r("page:fetch"),i=f(t),n!=null&&n.abort(),n=new XMLHttpRequest,n.open("GET",i,!0),n.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),n.setRequestHeader("X-XHR-Referer",s),n.onload=function(){var n;return r("page:receive"),(n=yt())?(wt(t),l.apply(null,rt(n)),bt(),document.location.hash?document.location.href=document.location.href:ni(),r("page:load")):document.location.href=t},n.onloadend=function(){return n=null},n.onabort=function(){return y()},n.onerror=function(){return document.location.href=t},n.send()},ut=function(i){var u;return c(),u=t[i],n!=null&&n.abort(),l(u.title,u.body),pt(u),r("page:restore")},c=function(){return t[i.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},g(o)},vt=function(n){return n==null&&(n=o),/^[\d]+$/.test(n)?o=parseInt(n):void 0},g=function(n){var r,u;for(r in t)ri.call(t,r)&&(u=t[r],r<=i.position-n&&(t[r]=null))},l=function(n,t,u,f){return document.title=n,document.documentElement.replaceChild(t,document.body),u!=null&&h.update(u),dt(),f&&tt(),i=window.history.state,r("page:change")},tt=function(){var u,t,s,f,n,e,i,r,h,c,l,o;for(e=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,h=e.length;i<h;i++)if(n=e[i],(l=n.type)===""||l==="text/javascript"){for(t=document.createElement("script"),o=n.attributes,r=0,c=o.length;r<c;r++)u=o[r],t.setAttribute(u.name,u.value);t.appendChild(document.createTextNode(n.innerHTML)),f=n.parentNode,s=n.nextSibling,f.removeChild(n),f.insertBefore(t,s)}},dt=function(){var t,i,n,r;for(i=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),n=0,r=i.length;n<r;n++)t=i[n],t.parentNode.removeChild(t)},wt=function(n){if(n!==s)return window.history.pushState({turbolinks:!0,position:i.position+1},"",n)},bt=function(){var t,r;if(t=n.getResponseHeader("X-XHR-Redirected-To"))return r=f(t)===t?document.location.hash:"",window.history.replaceState(i,"",t+r)},y=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},kt=function(){return i=window.history.state},pt=function(n){return window.scrollTo(n.positionX,n.positionY)},ni=function(){return window.scrollTo(0,0)},f=function(n){var t;return t=n,n.href==null&&(t=document.createElement("A"),t.href=n),t.href.replace(t.hash,"")},r=function(n){var t;return t=document.createEvent("Events"),t.initEvent(n,!0,!0),document.dispatchEvent(t)},at=function(){return!r("page:before-change")},yt=function(){var r,f,t,i,e,o;return f=function(){var t;return 400<=(t=n.status)&&t<600},o=function(){return n.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(n){var t,i,f,r,u;for(r=n.head.childNodes,u=[],i=0,f=r.length;i<f;i++)t=r[i],(typeof t.getAttribute=="function"?t.getAttribute("data-turbolinks-track"):void 0)!=null&&u.push(t.src||t.href);return u},r=function(n){var t;return u||(u=i(document)),t=i(n),t.length!==u.length||e(t,u).length!==u.length},e=function(n,t){var r,i,e,u,f;for(n.length>t.length&&(u=[t,n],n=u[0],t=u[1]),f=[],i=0,e=n.length;i<e;i++)r=n[i],ui.call(t,r)>=0&&f.push(r);return f},!f()&&o()&&(t=a(n.responseText),t&&!r(t))?t:void 0},rt=function(n){var t;return t=n.querySelector("title"),[t!=null?t.textContent:void 0,n.body,h.get(n).token,"runScripts"]},h={get:function(n){var t;return n==null&&(n=document),{node:t=n.querySelector('meta[name="csrf-token"]'),token:t!=null?typeof t.getAttribute=="function"?t.getAttribute("content"):void 0:void 0}},update:function(n){var t;return t=this.get(),t.token!=null&&n!=null&&t.token!==n?t.node.setAttribute("content",n):void 0}},b=function(){var t,i,r,n,u;i=function(n){return(new DOMParser).parseFromString(n,"text/html")},t=function(n){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=n,t},r=function(n){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(n),t.close(),t};try{if(window.DOMParser)return n=i("<html><body><p>test"),i}catch(f){return n=t("<html><body><p>test"),t}finally{if((n!=null?(u=n.body)!=null?u.childNodes.length:void 0:void 0)!==1)return r}},st=function(n){if(!n.defaultPrevented)return document.removeEventListener("click",v,!1),document.addEventListener("click",v,!1)},v=function(n){var t;if(!n.defaultPrevented&&(t=it(n),t.nodeName==="A"&&!et(n,t)))return at()||e(t.href),n.preventDefault()},it=function(n){for(var t=n.target;!(!t.parentNode||t.nodeName==="A");)t=t.parentNode;return t},nt=function(n){return location.protocol!==n.protocol||location.host!==n.host},w=function(n){return(n.hash&&f(n))===f(location)||n.href===location.href+"#"},ct=function(n){var t;return t=f(n),t.match(/\.[a-z]+(\?.*)?$/g)&&!t.match(/\.html?(\?.*)?$/g)},ht=function(n){for(var t;!(t||n===document);)t=n.getAttribute("data-no-turbolink")!=null,n=n.parentNode;return t},ti=function(n){return n.target.length!==0},lt=function(n){return n.which>1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey},et=function(n,t){return nt(t)||w(t)||ct(t)||ht(t)||ti(t)||lt(n)},ot=function(){return y(),kt(),a=b(),document.addEventListener("click",st,!0),window.addEventListener("popstate",function(n){var i;return i=n.state,(i!=null?i.turbolinks:void 0)?t[i.position]?ut(i.position):e(n.target.location.href):void 0},!1)},d=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0,k=!navigator.userAgent.match(/CriOS\//),gt=p==="GET"||p==="",d&&k&&gt?(e=function(n){return s=document.location.href,c(),ft(n)},ot()):e=function(n){return document.location.href=n},this.Turbolinks={visit:e,pagesCached:vt}}).call(this);